# ููููุฉ ุฅุตูุงุญ ูุดููุฉ ุงููุตูุต ุงูุนุฑุจูุฉ (ุนูุงูุงุช ุงูุงุณุชููุงู)

## ๐ ุงููุดููุฉ

ุนูุฏ ุนุฑุถ ุงูุจูุงูุงุชุ ุชุธูุฑ ุงููุตูุต ุงูุนุฑุจูุฉ ุนูู ุดูู ุนูุงูุงุช ุงุณุชููุงู `?????` ุจุฏูุงู ูู ุงููุต ุงูุตุญูุญ.

## ๐ ุงูุณุจุจ

ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฎุฒูุฉ ูู ุญููู ูู ููุน `VARCHAR` ุจุฏูุงู ูู `NVARCHAR`. 

- **VARCHAR**: ูุฏุนู ASCII ููุท (ูุง ูุฏุนู ุงูุนุฑุจูุฉ)
- **NVARCHAR**: ูุฏุนู Unicode (ูุฏุนู ุงูุนุฑุจูุฉ)

## โ ุงูุญููู

### ุงูุญู 1: ุชุญููู ููุน ุงูุญููู ุฅูู NVARCHAR (ููุตู ุจู)

#### ุงูุฎุทูุฉ 1: ูุญุต ููุน ุงูุญููู ุงูุญุงูู

ุงูุชุญ ูู ุงููุชุตูุญ:
```
http://localhost:9002/api/database/check-encoding
```

ุณุชุญุตู ุนูู ูุนูููุงุช ุนู ููุน ุงูุญููู:
```json
{
  "columnInfo": [
    {
      "COLUMN_NAME": "ATMAddress",
      "DATA_TYPE": "varchar",  // โ ุงููุดููุฉ ููุง!
      "COLLATION_NAME": "..."
    }
  ]
}
```

#### ุงูุฎุทูุฉ 2: ุชูููุฐ SQL Script ูุชุญููู ุงูุญููู

**ุงูุทุฑููุฉ ุฃ: ูู SQL Server Management Studio**
1. ุงูุชุญ SQL Server Management Studio
2. ุงุชุตู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุงูุชุญ ููู: `prisma/fix-arabic-encoding.sql`
4. ูููุฐ ุงูู script

**ุงูุทุฑููุฉ ุจ: ูู ุตูุญุฉ ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช**
1. ุงูุชุญ: `http://localhost:9002/database-manager`
2. ุงุถุบุท "ุงุณุชุนูุงู SQL"
3. ุงูุตู ูุญุชูู ููู `fix-arabic-encoding.sql`
4. ุงุถุบุท "ุชูููุฐ"

### ุงูุญู 2: ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุชุงููุฉ ุจุงููุนู

ุฅุฐุง ูุงูุช ุงูุญููู ุจุงููุนู NVARCHAR ููู ุงูุจูุงูุงุช ุชุงููุฉ:

#### ุงูุฎูุงุฑ ุฃ: ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช ูู ุฌุฏูุฏ
1. ุงุญุตู ุนูู ููู Excel ุฃู CSV ุงูุฃุตูู
2. ุงุณุชุฎุฏู `/import-data` ูุฅุนุงุฏุฉ ุงูุงุณุชูุฑุงุฏ

#### ุงูุฎูุงุฑ ุจ: ุชุญุฏูุซ ูุฏูู
ุงุณุชุฎุฏู ุงุณุชุนูุงู SQL:
```sql
UPDATE [dbo].[BankATM]
SET ATMAddress = N'ุงูุนููุงู ุงูุตุญูุญ'
WHERE ATMId = 'xxx';
```
ููุงุญุธุฉ: ุญุฑู `N` ูุจู ุงููุต ููู ูููุตูุต ุงูุนุฑุจูุฉ!

### ุงูุญู 3: ุงูุชุญูู ูู connection string

ุชุฃูุฏ ูู ุฃู connection string ูุญุชูู ุนูู:
```
DATABASE_URL="sqlserver://...;encrypt=false;trustServerCertificate=true"
```

## ๐ฏ ุจุนุฏ ุชุทุจูู ุงูุญู

1. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู: `npm run dev`
2. ุงูุชุญ ุตูุญุฉ ุงููุงูููุงุช
3. ูุฌุจ ุฃู ุชุธูุฑ ุงููุตูุต ุงูุนุฑุจูุฉ ุจุดูู ุตุญูุญ

## โ๏ธ ุชุญุฐูุฑ

- ุชุญููู VARCHAR ุฅูู NVARCHAR ุขูู ููู ูููุฏ ุงูุจูุงูุงุช
- ููู ุงูุจูุงูุงุช ุงูุชุงููุฉ ุจุงููุนู (?????) ูุง ูููู ุงุณุชุฑุฌุงุนูุง
- ุณุชุญุชุงุฌ ุฅุนุงุฏุฉ ุฅุฏุฎุงู ูุฐู ุงูุจูุงูุงุช

## ๐ ูููุณุงุนุฏุฉ

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
1. ุงูุชุญ `/api/database/check-encoding`
2. ุฃุฑุณู ูู ุงููุชูุฌุฉ
3. ุณุฃุณุงุนุฏู ูู ุงูุฎุทูุงุช ุงูุชุงููุฉ

