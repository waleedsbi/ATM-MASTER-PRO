# โ ุฅุตูุงุญ: ุงูุฅุดุนุงุฑุงุช ูุง ุชุฎุชูู ุนูุฏ ุงููุชุญ + ุฅููุงููุฉ ุงูุฑุฏ ุนูููุง

## ๐ฏ ุงููุดููุฉ ุงูุณุงุจูุฉ

- โ ุนูุฏ ุงูููุฑ ุนูู ุงูุฌุฑุณุ ุงูุฅุดุนุงุฑุงุช ุชููุถุน ุนูุงูุฉ "ููุฑูุก" ูุชุฎุชูู ููุฑุงู
- โ ูุง ุชูุฌุฏ ุทุฑููุฉ ููุชุญ ุงูุชูุฑูุฑ ุงููุนูู ููุฑุฏ ุนูู ุงูุชุนููู
- โ ูุง ูููู ูุฑุงุฌุนุฉ ุงูุฅุดุนุงุฑุงุช ุงูุณุงุจูุฉ

## โจ ุงูุญููู ุงููุทุจูุฉ

### 1. ูุธุงู ุงูุชุจููุจุงุช (Tabs) ๐

#### ุชุจููุจ "ุฌุฏูุฏุฉ":
- ุนุฑุถ ุงูุชุนูููุงุช ุบูุฑ ุงูููุฑูุกุฉ ููุท
- ุนุฏุงุฏ ููุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ

#### ุชุจููุจ "ุงููู":
- ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช (ููุฑูุกุฉ ูุบูุฑ ููุฑูุกุฉ)
- ุงูุงุญุชูุงุธ ุจุงูุณุฌู ุงููุงูู

```typescript
<Tabs defaultValue="unread">
  <TabsList>
    <TabsTrigger value="unread">
      ุฌุฏูุฏุฉ [3]
    </TabsTrigger>
    <TabsTrigger value="all">
      ุงููู (20)
    </TabsTrigger>
  </TabsList>
</Tabs>
```

---

### 2. ุจุทุงูุฉ ุฅุดุนุงุฑ ูุญุณูุฉ ๐ด

ูู ุฅุดุนุงุฑ ุงูุขู ูุญุชูู ุนูู:

#### ุนูุงุตุฑ ูุนูููุงุชูุฉ:
- ุงุณู ุงูููุนูููู
- ููุน ุงููุณุชุฎุฏู (ุนููู/ูุฑุงุฌุน)
- ูุต ุงูุชุนููู
- ููุฏ ุงูููููุฉ
- ุงูุชุงุฑูุฎ ูุงูููุช
- ููุทุฉ ุฒุฑูุงุก ูุงุจุถุฉ ููุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ

#### ุฃุฒุฑุงุฑ ุชูุงุนููุฉ:
1. **ุฒุฑ "ูุชุญ ูุนุฑุถ"** ๐
   - ูููู ููุชูุฑูุฑ ุงููุนูู
   - ูุถุน ุนูุงูุฉ ููุฑูุก ุชููุงุฆูุงู
   - ูุนุฑุถ toast ุจููุฏ ุงูููููุฉ

2. **ุฒุฑ "ุชุนููู ูููุฑูุก"** โ
   - ูุธูุฑ ููุท ููุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ
   - ููุนูู ูููุฑูุก ุฏูู ูุชุญ ุงูุชูุฑูุฑ

---

### 3. ุฅุฏุงุฑุฉ ุฐููุฉ ููุฅุดุนุงุฑุงุช ๐ง

#### ุนุฏู ุงูุญุฐู ุงูุชููุงุฆู:
```typescript
// ูุจู: ุชูุญุฐู ุนูุฏ ูุชุญ ุงููุงุฆูุฉ
handleOpenChange() {
  markAllAsRead(); // โ
}

// ุจุนุฏ: ุชุจูู ูุนุฑูุถุฉ
handleOpenChange() {
  fetchNotifications(); // โ ููุท ุชุญุฏูุซ
}
```

#### ูุถุน ุนูุงูุฉ ููุฑูุก ูุฑุฏูุงู:
```typescript
// ูุถุน ุนูุงูุฉ ุนูู ุชุนููู ูุงุญุฏ ููุท
handleMarkAsRead(commentId) {
  // ุชุญุฏูุซ ูุญูู ููุฑู
  setNotifications(prev => ({
    ...prev,
    unreadCount: prev.unreadCount - 1,
    recentComments: prev.recentComments.map(c => 
      c.id === commentId ? { ...c, isRead: true } : c
    )
  }));
}
```

---

### 4. ุงูุชููู ููุชูุฑูุฑ ๐

```typescript
handleOpenComment(comment) {
  // 1. ูุถุน ุนูุงูุฉ ููุฑูุก
  if (!comment.isRead) {
    handleMarkAsRead(comment.id);
  }
  
  // 2. ุฅุบูุงู ุงููุงุฆูุฉ
  setOpen(false);
  
  // 3. ุงูุงูุชูุงู ูุตูุญุฉ ุงููุฑุงุฌุนุฉ
  router.push('/client-review');
  
  // 4. ุนุฑุถ ุชูููุญ
  toast({
    title: 'ูุชุญ ุงูุชูุฑูุฑ',
    description: `ุงุจุญุซ ุนู ุงูููููุฉ: ${comment.atmCode}`,
  });
}
```

---

### 5. API ูุญุณู ๐

#### ุฏุนู ุนุฑุถ ุฌููุน ุงูุฅุดุนุงุฑุงุช:
```typescript
// ูุจู: ููุท ุบูุฑ ุงูููุฑูุกุฉ
GET /api/notifications?userRole=reviewer

// ุจุนุฏ: ูุฏุนู ุงูููุฑูุกุฉ ุฃูุถุงู
GET /api/notifications?userRole=reviewer&showAll=true
```

#### ุฒูุงุฏุฉ ุงูุนุฏุฏ:
```typescript
// ูู 10 ุฅูู 20 ุฅุดุนุงุฑ
take: 20
```

---

## ๐จ ุงููุงุฌูุฉ ุงูุฌุฏูุฏุฉ

### ูุจู ุงูุชุญุฏูุซ:
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูุฅุดุนุงุฑุงุช    ๐     โ
โโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฌ ุชุนููู 1         โ
โ    (ูุฎุชูู ุนูุฏ ูุชุญ)  โ
โโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ฌ ุชุนููู 2         โ
โ    (ูุฎุชูู ุนูุฏ ูุชุญ)  โ
โโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุจุนุฏ ุงูุชุญุฏูุซ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูุฅุดุนุงุฑุงุช            ๐      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โโโโโโโโโโโโฌโโโโโโโโโโโ       โ
โ โ ุฌุฏูุฏุฉ[2] โ ุงููู(20) โ โ Tabsโ
โ โโโโโโโโโโโโดโโโโโโโโโโโ       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ต ุฃุญูุฏ ูุญูุฏ - ูุฑุงุฌุน        โ
โ    "ุชู ุฅุถุงูุฉ ุตูุฑุฉ ุฌุฏูุฏุฉ"    โ
โ    ๐ฑ ATM001 | 10:30 AM       โ
โ โโโโโโโโโโโโโโโโฌโโโโโโโโโโ   โ
โ โ ๐ ูุชุญ ูุนุฑุถ โ โ ููุฑูุกโ   โ โ ุฃุฒุฑุงุฑ
โ โโโโโโโโโโโโโโโโดโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ุณุงุฑุฉ ุนูู - ุนููู              โ
โ    "ุดูุฑุงู ุนูู ุงูุฑุฏ"          โ
โ    ๐ฑ ATM002 | 10:25 AM       โ
โ โโโโโโโโโโโโโโโโ              โ
โ โ ๐ ูุชุญ ูุนุฑุถ โ              โ
โ โโโโโโโโโโโโโโโโ              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐ ุงูููุงุฑูุฉ

| ุงูููุฒุฉ | ูุจู | ุจุนุฏ |
|--------|-----|-----|
| **ุงุฎุชูุงุก ุงูุฅุดุนุงุฑุงุช** | โ ุชุฎุชูู | โ ูุง ุชุฎุชูู |
| **ุงูุชุจููุจุงุช** | โ ูุง | โ ูุนู (ุฌุฏูุฏุฉ/ุงููู) |
| **ุฒุฑ ูุชุญ** | โ ูุง | โ ูุนู |
| **ุฒุฑ ููุฑูุก** | โ ูุง | โ ูุนู |
| **ุงูุชููู ููุชูุฑูุฑ** | โ ูุง | โ ูุนู |
| **ุงูุงุญุชูุงุธ ุจุงูุณุฌู** | โ ูุง | โ ูุนู (20 ุฅุดุนุงุฑ) |
| **ุนุฏุงุฏ ุงูุฌุฏูุฏุฉ** | โ ูุนู | โ ูุนู + ูุญุณูู |
| **ููุทุฉ ูุงุจุถุฉ** | โ ูุง | โ ูุนู |

---

## ๐ฏ ุณูุฑ ุงูุนูู ุงูุฌุฏูุฏ

### ุงูุณููุงุฑูู 1: ุฅุดุนุงุฑ ุฌุฏูุฏ
```
1. ูุตู ุฅุดุนุงุฑ ุฌุฏูุฏ
   โโ Toast notification ๐ฌ
   โโ ุงูุฌุฑุณ ูููุถ ๐
   โโ ุงูุนุฏุงุฏ ูุชุญุฏุซ [1]

2. ุงููุณุชุฎุฏู ูููุฑ ุนูู ุงูุฌุฑุณ
   โโ ุชูุชุญ ุงููุงุฆูุฉ
   โโ ูุธูุฑ ุชุจููุจ "ุฌุฏูุฏุฉ" ูุน [1]
   โโ ุงูุฅุดุนุงุฑ ูุนุฑูุถ ุจููุทุฉ ุฒุฑูุงุก ๐ต

3. ุงููุณุชุฎุฏู ูุฏูู ุฎูุงุฑุงู:
   
   ุฃ) ูุชุญ ุงูุชูุฑูุฑ ูุจุงุดุฑุฉ:
      โโ ูููุฑ "ูุชุญ ูุนุฑุถ"
      โโ ูููุถุน ุนูุงูุฉ ููุฑูุก ุชููุงุฆูุงู
      โโ ููุชูู ูุตูุญุฉ ุงููุฑุงุฌุนุฉ
      โโ ูุธูุฑ toast ุจููุฏ ุงูููููุฉ
   
   ุจ) ุชุนููู ูููุฑูุก ููุท:
      โโ ูููุฑ "ุชุนููู ูููุฑูุก"
      โโ ูููุถุน ุนูุงูุฉ ููุฑูุก
      โโ ุชุฎุชูู ุงูููุทุฉ ุงูุฒุฑูุงุก
      โโ ูุจูู ูู ุชุจููุจ "ุงููู"
```

### ุงูุณููุงุฑูู 2: ูุฑุงุฌุนุฉ ุฅุดุนุงุฑุงุช ูุฏููุฉ
```
1. ุงููุณุชุฎุฏู ูููุฑ ุงูุฌุฑุณ
2. ูุฎุชุงุฑ ุชุจููุจ "ุงููู"
3. ูุฑู ุฌููุน ุงูุฅุดุนุงุฑุงุช (20)
4. ููููู ูุชุญ ุฃู ุฅุดุนุงุฑ ูููุฑุงุฌุนุฉ
5. ุงูุฅุดุนุงุฑุงุช ูุง ุชุฎุชูู ุฃุจุฏุงู
```

### ุงูุณููุงุฑูู 3: ุงูุฑุฏ ุนูู ุฅุดุนุงุฑ
```
1. ุงููุณุชุฎุฏู ููุชุญ ุฅุดุนุงุฑ
2. ูููุฑ "ูุชุญ ูุนุฑุถ" ๐
3. ููุชูู ูุตูุญุฉ /client-review
4. ูุจุญุซ ุนู ุงูููููุฉ (ูุธูุฑ ูู Toast)
5. ููุชุญ ุงูุชูุฑูุฑ
6. ูุฑุฏ ุนูู ุงูุชุนููู
```

---

## ๐จ ุงูุชูุงุตูู ุงูุจุตุฑูุฉ

### NotificationCard:

```tsx
<div className={
  'p-3 rounded-lg border hover:shadow-md',
  !isRead && 'bg-primary/5 border-primary/20'
}>
  {/* Header */}
  <div className="flex justify-between">
    <div>
      {name} - {badge}
    </div>
    {!isRead && (
      <div className="w-2 h-2 rounded-full bg-primary animate-pulse" />
    )}
  </div>
  
  {/* Content */}
  <p className="line-clamp-2">{text}</p>
  
  {/* Meta */}
  <div className="flex justify-between text-xs">
    <span>๐ฑ {atmCode}</span>
    <span>{time}</span>
  </div>
  
  {/* Actions */}
  <div className="flex gap-2">
    <Button variant="default" onClick={onOpen}>
      ๐ ูุชุญ ูุนุฑุถ
    </Button>
    {!isRead && (
      <Button variant="outline" onClick={onMarkRead}>
        โ ุชุนููู ูููุฑูุก
      </Button>
    )}
  </div>
</div>
```

---

## ๐ง ุงูุชุฎุตูุต

### ุชุบููุฑ ุนุฏุฏ ุงูุฅุดุนุงุฑุงุช:
```typescript
// ูู route.ts ุงูุณุทุฑ 49
take: 20, // ุบููุฑ ุฅูู ุงูุนุฏุฏ ุงููุทููุจ
```

### ุชุบููุฑ ุงูุชุจููุจ ุงูุงูุชุฑุงุถู:
```typescript
// ูู notifications-bell.tsx ุงูุณุทุฑ 222
<Tabs defaultValue="unread"> // ุบููุฑ ุฅูู "all" ูุนุฑุถ ุงููู
```

### ุชุฎุตูุต ุงูุชููู:
```typescript
// ูู handleOpenComment
router.push('/client-review'); // ุบููุฑ ุงููุณุงุฑ ุญุณุจ ุงูุญุงุฌุฉ
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ุงูุฅุดุนุงุฑุงุช ูุง ุชุฎุชูู
1. โ ุงูุชุญ ุงูุฌุฑุณ
2. โ ุชุญูู ูู ูุฌูุฏ ุฅุดุนุงุฑุงุช
3. โ ุฃุบูู ูุฃุนุฏ ุงููุชุญ
4. โ ุงูุฅุดุนุงุฑุงุช ูุง ุชุฒุงู ููุฌูุฏุฉ

### ุงุฎุชุจุงุฑ 2: ุงูุชุจููุจุงุช
1. โ ุงูุชุญ ุงูุฌุฑุณ
2. โ ุชุญูู ูู ุชุจููุจ "ุฌุฏูุฏุฉ"
3. โ ุงูุชูู ูุชุจููุจ "ุงููู"
4. โ ุชุญูู ูู ุงูุนุฏุฏ ุงูุฅุฌูุงูู

### ุงุฎุชุจุงุฑ 3: ูุชุญ ุงูุชูุฑูุฑ
1. โ ุงููุฑ "ูุชุญ ูุนุฑุถ"
2. โ ุชุญูู ูู ุงูุงูุชูุงู ููุตูุญุฉ
3. โ ุชุญูู ูู Toast ุจููุฏ ุงูููููุฉ
4. โ ุชุญูู ูู ุนูุงูุฉ ุงูููุฑูุก

### ุงุฎุชุจุงุฑ 4: ุชุนููู ูููุฑูุก
1. โ ุงููุฑ "ุชุนููู ูููุฑูุก"
2. โ ุชุฎุชูู ุงูููุทุฉ ุงูุฒุฑูุงุก
3. โ ูุชุญุฏุซ ุงูุนุฏุงุฏ
4. โ ุงูุฅุดุนุงุฑ ูุจูู ูู "ุงููู"

---

## โจ ุงูุฎูุงุตุฉ

**ุงููุดููุฉ ูุญูููุฉ ุจุงููุงูู!**

ุงูุขู:
- โ ุงูุฅุดุนุงุฑุงุช ูุง ุชุฎุชูู ุนูุฏ ูุชุญ ุงููุงุฆูุฉ
- โ ูููู ูุฑุงุฌุนุฉ ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ ูู ุชุจููุจ "ุงููู"
- โ ุฒุฑ "ูุชุญ ูุนุฑุถ" ููุงูุชูุงู ุงููุจุงุดุฑ ููุชูุฑูุฑ
- โ ุฒุฑ "ุชุนููู ูููุฑูุก" ููุชุญุฏูุฏ ุงููุฑุฏู
- โ ูุธุงู ุชุจููุจุงุช ูุงุถุญ (ุฌุฏูุฏุฉ/ุงููู)
- โ ุนุฏุงุฏ ุฏููู ููุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ
- โ ููุทุฉ ูุงุจุถุฉ ููุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏุฉ
- โ ุงูุงุญุชูุงุธ ุจุณุฌู 20 ุฅุดุนุงุฑ

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู!** ๐

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ**: 8 ุฃูุชูุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ**: 1.4.0  
**ุงูุญุงูุฉ**: โ ูุฎุชุจุฑ ูุฌุงูุฒ

