# โ ูุงุฆูุฉ ุงูุชุญูู ูุจู ุงููุดุฑ (Pre-Deployment Checklist)

## ๐ฏ ุฎุทูุงุช ุณุฑูุนุฉ ูุจู ุงููุดุฑ

### 1๏ธโฃ ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

**ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ (ููุตู ุจูุง):**
```bash
npm run setup:production
```

**ุฃู ูุฏููุงู:**
```bash
./create-env-production.sh
# ุซู ุฃุถู NEXTAUTH_SECRET ู NEXTAUTH_URL
```

**ูุฅูุดุงุก NEXTAUTH_SECRET ููุท:**
```bash
npm run generate:secret
```

---

### 2๏ธโฃ ุงูุชุญูู ูู ุงููููุงุช ุงูุญุณุงุณุฉ

ุชุฃูุฏ ูู ุฃู ุงููููุงุช ุงูุชุงููุฉ ููุฌูุฏุฉ ูู `.gitignore`:
- โ `.env.production`
- โ `.env.local`
- โ `backups/`
- โ `logs/`

**ุงูุชุญูู:**
```bash
cat .gitignore | grep -E "\.env|backups|logs"
```

---

### 3๏ธโฃ ุงุฎุชุจุงุฑ ุงูุจูุงุก

```bash
# ุงุฎุชุจุงุฑ ุงูุจูุงุก ูุญููุงู
npm run build

# ุฅุฐุง ูุฌุญ ุงูุจูุงุกุ ุงุฎุชุจุฑ ุงูุชุดุบูู
npm run start:prod
```

**ุงูุชุญูู ูู:**
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู ุงูุจูุงุก
- โ ุงูุชุทุจูู ูุนูู ุนูู `http://localhost:9002`
- โ ูููู ุงููุตูู ุฅูู ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ
- โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุนูู

---

### 4๏ธโฃ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
npx prisma db pull

# ุชูููุฏ Prisma Client
npx prisma generate
```

**ุงูุชุญูู ูู:**
- โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช ูุนูู
- โ ุงูุฌุฏุงูู ููุฌูุฏุฉ
- โ ุงูุชุฑููุฒ ุงูุนุฑุจู ุตุญูุญ

---

### 5๏ธโฃ ุงูุชุญูู ูู ุงูุฃูุงู

**ูุงุฆูุฉ ุงูุชุญูู ุงูุฃูููุฉ:**
- [ ] `NEXTAUTH_SECRET` ููุฌูุฏ ูููู (32+ ุญุฑู)
- [ ] ูููุงุช ูุฑูุฑ ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู ุชู ุชุบููุฑูุง
- [ ] ูุง ุชูุฌุฏ ุญุณุงุจุงุช ุงุฎุชุจุงุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ููู `.env.production` ุบูุฑ ููุฌูุฏ ูู Git
- [ ] HTTPS ููุนูู ุนูู ุงูุฎุงุฏู

---

### 6๏ธโฃ ุฅุนุฏุงุฏ ุงูุฎุงุฏู

**ุนูู ุงูุฎุงุฏู:**

```bash
# 1. ุฑูุน ุงููููุงุช
scp -r . user@95.216.63.80:/var/www/atm-master-pro

# 2. ุชุณุฌูู ุงูุฏุฎูู
ssh user@95.216.63.80

# 3. ุงูุงูุชูุงู ุฅูู ุงููุฌูุฏ
cd /var/www/atm-master-pro

# 4. ุงูุชุฃูุฏ ูู ูุฌูุฏ .env.production
cat .env.production

# 5. ุชุดุบูู ุณูุฑูุจุช ุงููุดุฑ
chmod +x deploy.sh
./deploy.sh

# 6. ุชุซุจูุช PM2 (ุฅุฐุง ูู ููู ูุซุจุชุงู)
npm install -g pm2

# 7. ุชุดุบูู ุงูุชุทุจูู
pm2 start ecosystem.config.js

# 8. ุญูุธ ุงูุฅุนุฏุงุฏุงุช
pm2 save

# 9. ุฅุนุฏุงุฏ ุงูุจุฏุก ุงูุชููุงุฆู
pm2 startup
```

---

### 7๏ธโฃ ุงูุชุญูู ุจุนุฏ ุงููุดุฑ

**ุงูุชุญูู ูู:**
- [ ] ุงูุชุทุจูู ูุนูู ุนูู `https://springtradingclean.com`
- [ ] ูููู ุชุณุฌูู ุงูุฏุฎูู
- [ ] ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ ุชุนูู
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู console
- [ ] PM2 ูุนูู: `pm2 status`
- [ ] ุงูุณุฌูุงุช ูุธููุฉ: `pm2 logs atm-master-pro --lines 50`

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูุดู ุงูุจูุงุก:
```bash
# ูุญุต ุงูุฃุฎุทุงุก
npm run build 2>&1 | tee build-errors.log

# ูุญุต TypeScript
npm run typecheck
```

### ุฅุฐุง ูุดู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
npx prisma db pull

# ูุญุต ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู
cat .env.production | grep DATABASE_URL
```

### ุฅุฐุง ูุดู PM2:
```bash
# ูุญุต ุงูุญุงูุฉ
pm2 status

# ูุญุต ุงูุณุฌูุงุช
pm2 logs atm-master-pro --lines 100

# ุฅุนุงุฏุฉ ุงูุชุดุบูู
pm2 restart atm-master-pro
```

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

ูุจู ุงูุฅุนูุงู ุนู ุงููุดุฑ ุงููุงุฌุญ:

- [ ] โ ููู `.env.production` ููุฌูุฏ ููุญุชูู ุนูู ุฌููุน ุงููุชุบูุฑุงุช
- [ ] โ `NEXTAUTH_SECRET` ููุฌูุฏ ูููู
- [ ] โ ุงูุจูุงุก ูุฌุญ ุจุฏูู ุฃุฎุทุงุก
- [ ] โ ุงูุชุทุจูู ูุนูู ูุญููุงู ูู production mode
- [ ] โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุตูุฉ
- [ ] โ ุงููููุงุช ุงูุญุณุงุณุฉ ูู `.gitignore`
- [ ] โ PM2 ูุนูู ุนูู ุงูุฎุงุฏู
- [ ] โ ุงูุชุทุจูู ูุนูู ุนูู ุงููุทุงู
- [ ] โ ูููู ุชุณุฌูู ุงูุฏุฎูู
- [ ] โ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ุชุนูู

---

## ๐ ุจุนุฏ ุงููุดุฑ ุงููุงุฌุญ

1. **ุงุฎุชุจุงุฑ ุดุงูู:**
   - ุชุณุฌูู ุงูุฏุฎูู
   - ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุจูุงูุงุช
   - ุงุณุชูุฑุงุฏ/ุชุตุฏูุฑ ุงูุจูุงูุงุช
   - ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ

2. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก:**
   ```bash
   pm2 monit
   ```

3. **ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู:**
   - ุฌุฏููุฉ ูุณุฎ ุงุญุชูุงุทูุฉ ููููุฉ
   - ุญูุธ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูู ููุงู ุขูู

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน `DEPLOYMENT_TROUBLESHOOTING.md`
2. ุฑุงุฌุน `DATABASE_ERROR_HELP.md`
3. ุฑุงุฌุน ุณุฌูุงุช PM2: `pm2 logs atm-master-pro`

